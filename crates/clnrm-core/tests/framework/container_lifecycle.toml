# Container Lifecycle Test
# Tests container creation, execution, and cleanup functionality

[test]
name = "container_lifecycle"
description = "Tests container creation and cleanup using testcontainers backend"

[services]
test_container = { type = "container", plugin = "testcontainers", image = "alpine:latest" }

[[steps]]
name = "create_container"
command = ["echo", "Container created successfully"]
expected_output_regex = "Container created successfully"

[[steps]]
name = "execute_basic_command"
command = ["echo", "hello from container"]
expected_output_regex = "hello from container"

[[steps]]
name = "test_environment_variables"
command = ["env"]
expected_output_regex = "PATH="

[[steps]]
name = "test_file_system"
command = ["ls", "/"]
expected_output_regex = "bin|etc|usr|var"
