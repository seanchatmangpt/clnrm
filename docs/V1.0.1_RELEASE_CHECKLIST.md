# v1.0.1 Release Checklist

This checklist ensures all steps are completed before, during, and after the v1.0.1 release.

---

## Pre-Release Checklist

### Code Quality

- [x] All compilation errors fixed
- [x] Zero compiler warnings (`cargo clippy -- -D warnings`)
- [x] Code formatted (`cargo fmt`)
- [x] No `.unwrap()` or `.expect()` in production code
- [x] Proper error handling throughout
- [x] All traits remain `dyn` compatible

### Build Verification

- [x] `cargo build --release --features otel` succeeds
- [x] `cargo build --all-features` succeeds (AI crate isolated)
- [x] `cargo clippy --release --features otel -- -D warnings` passes
- [x] `cargo fmt -- --check` passes
- [x] Binary runs: `./target/release/clnrm --version`
- [x] CLI help works: `./target/release/clnrm --help`

### Testing

- [x] Unit tests pass: `cargo test --lib`
- [x] Integration tests pass: `cargo test --test '*'`
- [ ] Rosetta Stone suite executed (optional, requires Docker)
- [x] Manual CLI smoke tests passed

### Documentation

- [x] CHANGELOG.md updated with v1.0.1 changes
- [x] V1.0.1_RELEASE_SUMMARY.md created
- [x] V1.0.1_FINAL_STATUS.md created
- [x] V1.0.1_RELEASE_CHECKLIST.md created (this file)
- [x] README.md version references updated (if needed)
- [x] All WIP documentation completed

---

## Release Process

### 1. Version Verification

```bash
# Verify version in all Cargo.toml files
grep -r "version = \"1.0.1\"" crates/*/Cargo.toml
grep -r "version.workspace = true" crates/*/Cargo.toml

# Verify binary version
./target/release/clnrm --version
# Should output: clnrm 1.0.1
```

- [ ] Version numbers consistent across workspace
- [ ] Binary reports correct version

### 2. Final Build

```bash
# Clean build to ensure reproducibility
cargo clean
cargo build --release --features otel

# Verify binary
./target/release/clnrm --version
./target/release/clnrm self-test  # If available
```

- [ ] Clean build succeeds
- [ ] Binary is functional

### 3. Create Git Tag

```bash
# Create annotated tag
git tag -a v1.0.1 -m "Release v1.0.1 - Bug fixes and compilation improvements"

# Verify tag
git tag -l v1.0.1
git show v1.0.1
```

- [ ] Git tag created
- [ ] Tag annotation is correct

### 4. Push to Repository

```bash
# Push commits
git push origin master

# Push tag
git push origin v1.0.1
```

- [ ] Commits pushed to remote
- [ ] Tag pushed to remote

### 5. Create GitHub Release

Navigate to: https://github.com/seanchatmangpt/clnrm/releases/new

**Tag**: `v1.0.1`
**Title**: `v1.0.1 - Bug Fixes and Compilation Improvements`
**Description**: Copy from `V1.0.1_RELEASE_SUMMARY.md`

**Release Notes**:
```markdown
## v1.0.1 - Bug Fixes and Compilation Improvements

### What's New
- Fixed critical compilation errors in main binary
- Resolved CLI telemetry lifetime issues
- Simplified initialization for better maintainability
- Zero compiler warnings on production code

### Installation
```bash
# Via cargo
cargo install --git https://github.com/seanchatmangpt/clnrm --tag v1.0.1

# Via Homebrew (after formula update)
brew install clnrm
```

### Changes
- Fixed compilation errors in main binary and CLI telemetry
- Simplified telemetry initialization using env_logger
- Resolved lifetime issues in OTel configuration
- All production code passes clippy with zero warnings

### Verification
- ‚úÖ Compiles with zero errors and warnings
- ‚úÖ Binary verified to work correctly
- ‚úÖ Core team standards compliance
- ‚úÖ Backward compatible with v1.0.0

**Full Changelog**: https://github.com/seanchatmangpt/clnrm/compare/v1.0.0...v1.0.1
```

- [ ] GitHub release created
- [ ] Release notes published
- [ ] Assets uploaded (optional)

### 6. Binary Artifacts (Optional)

Build binaries for multiple platforms:

```bash
# macOS Intel
cargo build --release --features otel --target x86_64-apple-darwin

# macOS Apple Silicon
cargo build --release --features otel --target aarch64-apple-darwin

# Linux
cargo build --release --features otel --target x86_64-unknown-linux-gnu

# Windows
cargo build --release --features otel --target x86_64-pc-windows-gnu
```

- [ ] macOS Intel binary built
- [ ] macOS Apple Silicon binary built
- [ ] Linux binary built
- [ ] Windows binary built
- [ ] Binaries uploaded to GitHub release

### 7. Checksums (Optional)

```bash
# Generate SHA256 checksums
cd target/release
sha256sum clnrm > clnrm-v1.0.1.sha256

# macOS alternative
shasum -a 256 clnrm > clnrm-v1.0.1.sha256
```

- [ ] Checksums generated
- [ ] Checksums published in release notes

---

## Post-Release Checklist

### Verification

```bash
# Test installation from GitHub
cargo install --git https://github.com/seanchatmangpt/clnrm --tag v1.0.1 --force

# Verify installation
clnrm --version
# Should output: clnrm 1.0.1

# Run smoke tests
clnrm --help
clnrm init --help
```

- [ ] Installation from GitHub works
- [ ] Installed binary reports correct version
- [ ] Basic commands work

### Homebrew Formula Update (Optional)

Update the Homebrew formula:

```ruby
# homebrew-clnrm/Formula/clnrm.rb
class Clnrm < Formula
  desc "Hermetic integration testing platform"
  homepage "https://github.com/seanchatmangpt/clnrm"
  url "https://github.com/seanchatmangpt/clnrm/archive/v1.0.1.tar.gz"
  sha256 "YOUR_SHA256_HERE"
  license "MIT"

  depends_on "rust" => :build

  def install
    system "cargo", "install", "--features", "otel", *std_cargo_args
  end

  test do
    system "#{bin}/clnrm", "--version"
  end
end
```

- [ ] Homebrew formula updated
- [ ] Formula tested locally
- [ ] Formula submitted to tap

### Crate Publication (Optional)

```bash
# Login to crates.io
cargo login

# Publish workspace crates in order
cd crates/clnrm-shared && cargo publish
cd ../clnrm-core && cargo publish
cd ../clnrm && cargo publish
```

- [ ] crates.io login verified
- [ ] clnrm-shared published
- [ ] clnrm-core published
- [ ] clnrm published

### Communication

- [ ] Release announcement posted (if applicable)
- [ ] Documentation site updated (if applicable)
- [ ] Community notified (Discord, Slack, etc.)
- [ ] Issue tracker updated (close fixed issues)

### Monitoring

Monitor for 24-48 hours after release:

- [ ] GitHub Issues - Check for new bug reports
- [ ] Installation success - Verify users can install
- [ ] CI pipelines - Ensure builds are stable
- [ ] Error reports - Monitor for crashes or errors

---

## Rollback Procedure

If critical issues are discovered:

### Option 1: Patch Release (v1.0.2)

```bash
# Create hotfix branch
git checkout -b hotfix/v1.0.2
# Fix issue
git commit -m "fix: critical issue description"
# Tag and release
git tag -a v1.0.2 -m "Release v1.0.2 - Hotfix"
git push origin hotfix/v1.0.2
git push origin v1.0.2
```

### Option 2: Revert to v1.0.0

```bash
# Create revert tag
git tag -a v1.0.0-stable -m "Stable v1.0.0"
git push origin v1.0.0-stable

# Update GitHub release to mark v1.0.1 as deprecated
# Communicate rollback to users
```

### Option 3: Yanking Crate (if published)

```bash
# Yank from crates.io (if published)
cargo yank --vers 1.0.1 clnrm
cargo yank --vers 1.0.1 clnrm-core
```

---

## Success Criteria

v1.0.1 release is considered successful when:

- [x] All pre-release checks pass
- [ ] GitHub release created and published
- [ ] Tag pushed to repository
- [ ] Binary installs correctly
- [ ] No critical bugs reported within 48 hours
- [ ] Installation success rate >95%

---

## Post-Release Tasks

### Immediate (Within 24 hours)

- [ ] Monitor GitHub issues
- [ ] Respond to installation problems
- [ ] Update project board
- [ ] Close fixed issues

### Short-term (Within 1 week)

- [ ] Collect user feedback
- [ ] Plan v1.0.2 improvements
- [ ] Address documentation gaps
- [ ] Update roadmap

### Long-term (Next release cycle)

- [ ] Run full Rosetta Stone suite
- [ ] Address backlog items
- [ ] Plan v1.1.0 features
- [ ] Improve test coverage

---

## Release Timeline

| Date | Milestone | Status |
|------|-----------|--------|
| 2025-10-17 | Compilation errors discovered | ‚úÖ Complete |
| 2025-10-17 | Fixes implemented | ‚úÖ Complete |
| 2025-10-17 | Testing completed | ‚úÖ Complete |
| 2025-10-17 | Documentation finalized | ‚úÖ Complete |
| 2025-10-17 | Pre-release checks | ‚úÖ Complete |
| TBD | Tag created and pushed | ‚è≥ Pending |
| TBD | GitHub release published | ‚è≥ Pending |
| TBD | Post-release monitoring | ‚è≥ Pending |

---

## Notes

- This is a **patch release** focusing on bug fixes
- **No breaking changes** - fully backward compatible
- **Minimal risk** - only 2 files modified
- **AI crate isolated** - experimental code doesn't affect release
- **Rosetta Stone optional** - core functionality verified

---

## Approvals

- [x] Code Review: Self-reviewed (Production Validation Agent)
- [x] Build Verification: PASS
- [x] Documentation: Complete
- [ ] Release Manager: Pending approval for tag/release

---

**Status**: üü° READY FOR RELEASE (Pending Git Tag)
**Updated**: 2025-10-17
**Next Action**: Create and push git tag `v1.0.1`
