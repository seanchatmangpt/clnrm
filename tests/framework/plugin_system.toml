[test.metadata]
name = "plugin_system_test"
description = "Test that the plugin system loads and executes correctly"

[services.plugin_test]
type = "generic_container"
plugin = "ubuntu"
image = "ubuntu:22.04"

[[steps]]
name = "test_plugin_discovery"
command = ["which", "bash"]
expected_exit_code = 0

[[steps]]
name = "test_plugin_execution"
command = ["bash", "-c", "echo 'Plugin executed successfully'"]
expected_output_regex = "Plugin executed successfully"

[assertions]
plugin_should_be_loaded = "ubuntu"
plugin_should_execute_commands = true
