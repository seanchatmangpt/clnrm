# README Example Test: clnrm self-test command
# Verifies: "clnrm self-test - Framework validates itself across 5 test suites"
# Location in README: Lines 25, 360-368

[test.metadata]
name = "verify_clnrm_self_test"
description = "Verify 'clnrm self-test' validates framework functionality as documented"
version = "1.0.0"

[service.self_tester]
plugin = "generic_container"
image = "rust:1.70"
working_dir = "/workspace"

[[scenario]]
name = "self_test_validates_framework"
service = "self_tester"
run = "clnrm self-test"

# Expected outputs from README (lines 362-367)
[[expect.output]]
pattern = "Framework Self-Test Results"
description = "Should show self-test header"

[[expect.output]]
pattern = "Total Tests: 5"
description = "Should show 5 test suites"

[[expect.output]]
pattern = "Passed: 5"
description = "Should pass all tests"

[[expect.output]]
pattern = "Failed: 0"
description = "Should have no failures"

[[expect.output]]
pattern = "All framework functionality validated"
description = "Should show validation success"

[[expect.status]]
exit_code = 0

[report]
json = "self_test_report.json"
