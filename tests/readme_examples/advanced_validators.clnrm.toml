# README Example Test: Advanced Validators
# Verifies: "Advanced Validators - Temporal ordering, status, count, window, graph, hermeticity"
# Location in README: Lines 52-59

[test.metadata]
name = "verify_advanced_validators"
description = "Verify all advanced validators work as documented"
version = "1.0.0"

[otel]
exporter = "otlp"
endpoint = "http://localhost:4318"
sample_ratio = 1.0

[service.validator_test]
plugin = "generic_container"
image = "rust:1.70"
working_dir = "/workspace"

[[scenario]]
name = "validators_comprehensive_test"
service = "validator_test"
run = "clnrm self-test"
artifacts.collect = ["spans:default"]

# Temporal ordering validator (line 53)
[expect.temporal]
must_precede = [["test.start", "test.end"]]

# Status validation (line 54)
[expect.status]
all = "OK"

# Count validation (line 55)
[expect.counts]
spans_total.gte = 1

# Graph validation (line 57)
[expect.graph]
acyclic = true

# Hermeticity validation (line 58)
[expect.hermeticity]
no_external_services = true

[report]
json = "advanced_validators_report.json"
comment = "Comprehensive test of all 6 advanced validators from v1.0"
